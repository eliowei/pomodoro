import{p as Q,m as ie,j as he,k as _e,l as Z,d as m,q as ee,f as l,v as z,x as J,M as Ie,I as ne,E as ae,y as Fe,z as Pe,A as Se,B as Be,C as we,D as Te,G as Re,H as $e,r as B,J as Ee,K as Le,L as Ae,N as De,O as pe,P as Me,Q as Ne,F as L,R as H,S as Ue,T as Ke,U as Oe,W as qe,X as je,Y as We,Z as ze,_ as Xe,$ as Ye,a0 as Ge,a1 as He,a2 as Je,a3 as ue,a4 as Qe,s as Ze,e as el,w as $,i as ll,o as E,a as o,a5 as se,c as N,g as re,h as U,a6 as tl,t as de,V as W}from"./index-BaN2vI9x.js";import{u as nl}from"./list-fOHJryW-.js";import{b as ce,V as Y,a as al}from"./route-block-YEZBzqRg.js";import{V as il,m as ol,u as ye,a as ul,b as sl,c as fe,d as ve}from"./VInput-RuRRfB6r.js";const rl=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ie(),...he({transition:{component:_e}})},"VCounter"),dl=Z()({name:"VCounter",functional:!0,props:rl(),setup(e,f){let{slots:u}=f;const w=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>l(Ie,{transition:e.transition},{default:()=>[z(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[u.default?u.default({counter:w.value,max:e.max,value:e.value}):w.value]),[[J,e.active]])]})),{}}}),cl=Q({floating:Boolean,...ie()},"VFieldLabel"),G=Z()({name:"VFieldLabel",props:cl(),setup(e,f){let{slots:u}=f;return ee(()=>l(il,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},u)),{}}}),fl=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=Q({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>fl.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...ie(),...Fe(),...Pe(),...Se()},"VField"),be=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...ol(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:u,emit:w,slots:t}=f;const{themeClasses:y}=Be(e),{loaderClasses:I}=we(e),{focusClasses:j,isFocused:K,focus:F,blur:C}=ye(e),{InputIcon:g}=ul(e),{roundedClasses:O}=Te(e),{rtlClasses:P}=Re(),x=m(()=>e.dirty||e.active),r=m(()=>!e.singleLine&&!!(e.label||t.label)),V=$e(),n=m(()=>e.id||`input-${V}`),a=m(()=>`${n.value}-messages`),T=B(),c=B(),X=B(),i=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:b,backgroundColorStyles:k}=Ee(Le(e,"bgColor")),{textColorClasses:h,textColorStyles:le}=Ae(m(()=>e.error||e.disabled?void 0:x.value&&K.value?e.color:e.baseColor));De(x,s=>{if(r.value){const d=T.value.$el,_=c.value.$el;requestAnimationFrame(()=>{const S=Oe(d),v=_.getBoundingClientRect(),q=v.x-S.x,D=v.y-S.y-(S.height/2-v.height/2),p=v.width/.75,M=Math.abs(p-S.width)>1?{maxWidth:qe(p)}:void 0,ke=getComputedStyle(d),oe=getComputedStyle(_),Ce=parseFloat(ke.transitionDuration)*1e3||150,xe=parseFloat(oe.getPropertyValue("--v-field-label-scale")),Ve=oe.getPropertyValue("color");d.style.visibility="visible",_.style.visibility="hidden",je(d,{transform:`translate(${q}px, ${D}px) scale(${xe})`,color:Ve,...M},{duration:Ce,easing:We,direction:s?"normal":"reverse"}).finished.then(()=>{d.style.removeProperty("visibility"),_.style.removeProperty("visibility")})})}},{flush:"post"});const A=m(()=>({isActive:x,isFocused:K,controlRef:X,blur:C,focus:F}));function te(s){s.target!==document.activeElement&&s.preventDefault()}function R(s){var d;s.key!=="Enter"&&s.key!==" "||(s.preventDefault(),s.stopPropagation(),(d=e["onClick:clear"])==null||d.call(e,new MouseEvent("click")))}return ee(()=>{var q,D,p;const s=e.variant==="outlined",d=!!(t["prepend-inner"]||e.prependInnerIcon),_=!!(e.clearable||t.clear),S=!!(t["append-inner"]||e.appendInnerIcon||_),v=()=>t.label?t.label({...A.value,label:e.label,props:{for:n.value}}):e.label;return l("div",H({class:["v-field",{"v-field--active":x.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":d,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!v(),[`v-field--variant-${e.variant}`]:!0},y.value,b.value,j.value,I.value,O.value,P.value,e.class],style:[k.value,e.style],onClick:te},u),[l("div",{class:"v-field__overlay"},null),l(pe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),d&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(g,{key:"prepend-icon",name:"prependInner"},null),(q=t["prepend-inner"])==null?void 0:q.call(t,A.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&r.value&&l(G,{key:"floating-label",ref:c,class:[h.value],floating:!0,for:n.value,style:le.value},{default:()=>[v()]}),r.value&&l(G,{key:"label",ref:T,for:n.value},{default:()=>[v()]}),(D=t.default)==null?void 0:D.call(t,{...A.value,props:{id:n.value,class:"v-field__input","aria-describedby":a.value},focus:F,blur:C})]),_&&l(Me,{key:"clear"},{default:()=>[z(l("div",{class:"v-field__clearable",onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},[l(Ne,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...A.value,props:{onKeydown:R,onFocus:F,onBlur:C,onClick:e["onClick:clear"]}}):l(g,{name:"clear",onKeydown:R,onFocus:F,onBlur:C},null)]})]),[[J,e.dirty]])]}),S&&l("div",{key:"append",class:"v-field__append-inner"},[(p=t["append-inner"])==null?void 0:p.call(t,A.value),e.appendInnerIcon&&l(g,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",h.value],style:le.value},[s&&l(L,null,[l("div",{class:"v-field__outline__start"},null),r.value&&l("div",{class:"v-field__outline__notch"},[l(G,{ref:c,floating:!0,for:n.value},{default:()=>[v()]})]),l("div",{class:"v-field__outline__end"},null)]),i.value&&r.value&&l(G,{ref:c,floating:!0,for:n.value},{default:()=>[v()]})])])}),{controlRef:X}}});function vl(e){const f=Object.keys(be.props).filter(u=>!Ue(u)&&u!=="class"&&u!=="style");return Ke(e,f)}const ml=["color","file","time","date","datetime-local","week","month"],yl=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...sl(),...ge()},"VTextField"),me=Z()({name:"VTextField",directives:{Intersect:ze},inheritAttrs:!1,props:yl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:u,emit:w,slots:t}=f;const y=Xe(e,"modelValue"),{isFocused:I,focus:j,blur:K}=ye(e),F=m(()=>typeof e.counterValue=="function"?e.counterValue(y.value):typeof e.counterValue=="number"?e.counterValue:(y.value??"").toString().length),C=m(()=>{if(u.maxlength)return u.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=m(()=>["plain","underlined"].includes(e.variant));function O(i,b){var k,h;!e.autofocus||!i||(h=(k=b[0].target)==null?void 0:k.focus)==null||h.call(k)}const P=B(),x=B(),r=B(),V=m(()=>ml.includes(e.type)||e.persistentPlaceholder||I.value||e.active);function n(){var i;r.value!==document.activeElement&&((i=r.value)==null||i.focus()),I.value||j()}function a(i){w("mousedown:control",i),i.target!==r.value&&(n(),i.preventDefault())}function T(i){n(),w("click:control",i)}function c(i){i.stopPropagation(),n(),ue(()=>{y.value=null,Qe(e["onClick:clear"],i)})}function X(i){var k;const b=i.target;if(y.value=b.value,(k=e.modelModifiers)!=null&&k.trim&&["text","search","password","tel","url"].includes(e.type)){const h=[b.selectionStart,b.selectionEnd];ue(()=>{b.selectionStart=h[0],b.selectionEnd=h[1]})}}return ee(()=>{const i=!!(t.counter||e.counter!==!1&&e.counter!=null),b=!!(i||t.details),[k,h]=Ye(u),{modelValue:le,...A}=fe.filterProps(e),te=vl(e);return l(fe,H({ref:P,modelValue:y.value,"onUpdate:modelValue":R=>y.value=R,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},k,A,{centerAffix:!g.value,focused:I.value}),{...t,default:R=>{let{id:s,isDisabled:d,isDirty:_,isReadonly:S,isValid:v}=R;return l(be,H({ref:x,onMousedown:a,onClick:T,"onClick:clear":c,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},te,{id:s.value,active:V.value||_.value,dirty:_.value||e.dirty,disabled:d.value,focused:I.value,error:v.value===!1}),{...t,default:q=>{let{props:{class:D,...p}}=q;const M=z(l("input",H({ref:r,value:y.value,onInput:X,autofocus:e.autofocus,readonly:S.value,disabled:d.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:n,onBlur:K},p,h),null),[[Ge("intersect"),{handler:O},null,{once:!0}]]);return l(L,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:D,"data-no-activator":""},[t.default(),M]):He(M,{class:D}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:b?R=>{var s;return l(L,null,[(s=t.details)==null?void 0:s.call(t,R),i&&l(L,null,[l("span",null,null),l(dl,{active:e.persistentCounter||I.value,value:F.value,max:C.value,disabled:e.disabled},t.counter)])])}:void 0})}),Je({},P,x,r)}}),gl={key:0},bl={__name:"list",setup(e){const f=nl(),{addItem:u,editItem:w,delItem:t,cancelEditItem:y,confirmEditItem:I,delFinishedItem:j}=f,{items:K,finishedItems:F}=Ze(f),C=B(""),g=B(null),O=B([]),P={required:V=>!!V||"欄位必填",length:V=>V.length>=3||"必須三個字以上"},x=()=>{console.log(g.value.isValid),g.value.isValid&&(u(C.value),g.value.reset())},r=(V,n)=>{O.value[n].isValid&&I(V)};return(V,n)=>(E(),el(ll,null,{default:$(()=>[l(al,null,{default:$(()=>[l(Y,{cols:"12"},{default:$(()=>n[1]||(n[1]=[o("h1",{class:"text-center"},"未完成",-1)])),_:1}),l(Y,{cols:"12"},{default:$(()=>[l(me,{ref_key:"inputTextField",ref:g,modelValue:C.value,"onUpdate:modelValue":n[0]||(n[0]=a=>C.value=a),"append-icon":"mdi-plus",label:"新增事項",clearable:"",rules:[P.required,P.length],onKeydown:se(x,["enter"]),"onClick:append":x},null,8,["modelValue","rules"]),l(ve,null,{default:$(()=>[n[2]||(n[2]=o("thead",null,[o("tr",null,[o("th",null,"事項"),o("th",null,"操作")])],-1)),o("tbody",null,[(E(!0),N(L,null,re(U(K),(a,T)=>(E(),N("tr",{key:a.id},[o("td",null,[z(l(me,{ref_for:!0,ref_key:"editTextField",ref:O,modelValue:a.model,"onUpdate:modelValue":c=>a.model=c,rules:[P.required,P.length],autofocus:"",onKeydown:se(c=>r(a.id,T),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,a.edit]]),z(o("span",null,de(a.text),513),[[J,!a.edit]])]),o("td",null,[a.edit?(E(),N(L,{key:0},[l(W,{icon:"mdi-check",onClick:c=>r(a.id,T)},null,8,["onClick"]),l(W,{icon:"mdi-undo",onClick:c=>U(y)(a.id)},null,8,["onClick"])],64)):(E(),N(L,{key:1},[l(W,{icon:"mdi-pencil",onClick:c=>U(w)(a.id)},null,8,["onClick"]),l(W,{icon:"mdi-delete",onClick:c=>U(t)(a.id)},null,8,["onClick"])],64))])]))),128))])]),_:1})]),_:1}),l(Y,{cols:"12"},{default:$(()=>n[3]||(n[3]=[o("h1",{class:"text-center"},"已完成",-1)])),_:1}),l(Y,{cols:"12"},{default:$(()=>[l(ve,null,{default:$(()=>[n[5]||(n[5]=o("thead",null,[o("tr",null,[o("th",null,"事項"),o("th",null,"操作")])],-1)),o("tbody",null,[U(F).length===0?(E(),N("tr",gl,n[4]||(n[4]=[o("td",{coolspan:"2"},"沒有項目",-1)]))):tl("",!0),(E(!0),N(L,null,re(U(F),a=>(E(),N("tr",{key:a.id},[o("td",null,de(a.text),1),o("td",null,[l(W,{icon:"mdi-delete",onClick:T=>U(j)(a.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};typeof ce=="function"&&ce(bl);export{bl as default};
